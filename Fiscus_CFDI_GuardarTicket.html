<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Interfaz para guardar un Ticket por medio de la API de Fiscus CFDI">
    <meta name="keywords" content="Facturación, SAT, México, API">
    <meta name="author" content="Tecnología Globalbtek <globalbtek.com | fiscuscfdi.com>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Timbrar Factura 3.3</title>
    <link rel="stylesheet" type="text/css" href="css/fiscus_cfdi.css" >
</head>

<body>
    <img src="img/fiscus_cfdi.png"><br>
    
    <div id="guardar_ticket">
        <div id="emisor_receptor">
            <!-- Información del Emisor -->
            <div>
                <input type="text" maxlength="13" id="rfc_emisor" placeholder="RFC del Emisor" value="TCM970625MB1" required>
                <input type="text" maxlength="13" id="razon_social_emisor" placeholder="Razón social del Emisor" value="TCM970625MB1" required>
                <select id="regimen_fiscal_emisor">
                        <option value="601">601 - General de Ley Personas Morales</option>
                        <option value="603">603 - Personas Morales con Fines no Lucrativos</option>
                        <option value="605">605 - Sueldos y Salarios e Ingresos Asimilados a Salarios</option>
                        <option value="606">606 - Arrendamiento</option>
                        <option value="608">608 - Demás ingresos</option>
                        <option value="609">609 - Consolidación</option>
                        <option value="610">610 - Residentes en el Extranjero sin Establecimiento Permanente en México</option>
                        <option value="611">611 - Ingresos por Dividendos (socios y accionistas)</option>
                        <option value="612">612 - Personas Físicas con Actividades Empresariales y Profesionales</option>
                        <option value="614">614 - Ingresos por intereses</option>
                        <option value="616">616 - Sin obligaciones fiscales</option>
                        <option value="620">620 - Sociedades Cooperativas de Producción que optan por diferir sus ingresos</option>
                        <option value="621">621 - Incorporación Fiscal</option>
                        <option value="622">622 - Actividades Agrícolas, Ganaderas, Silvícolas y Pesqueras</option>
                        <option value="623">623 - Opcional para Grupos de Sociedades</option>
                        <option value="624">624 - Coordinados</option>
                        <option value="628">628 - Hidrocarburos</option>
                        <option value="607">607 - Régimen de Enajenación o Adquisición de Bienes</option>
                        <option value="629">629 - De los Regímenes Fiscales Preferentes y de las Empresas Multinacionales</option>
                        <option value="630">630 - Enajenación de acciones en bolsa de valores</option>
                        <option value="615">615 - Régimen de los ingresos por obtención de premios</option>
                </select>
            </div>
        </div>
        <div>
            <br>
            <button id="agregar_concepto">+ Agregar Concepto</button>
            <table>
                <caption>Conceptos</caption>
                <thead>
                        <tr>
                            <th>Clave de Producto/Servicio</th>
                            <th>NoIdentificacion</th>
                            <th>Cantidad</th>
                            <th>Clave Unidad</th>
                            <th>Unidad</th>
                            <th>Descripcion</th>
                            <th>ValorUnitario</th>
                            <th>Importe</th>
                            <th>Descuento</th>
                            <th>Traslados</th>
                            <th>Retenciones</th>
                        </tr>
                </thead>
                <tbody id="tbody_conceptos">
                    <tr class="concepto_item">
                        <td> <input type="text" class="ClaveProdServ" maxlength="8" minlength="8" value="" placeholder="required" required> </td>
                        <td> <input type="text" class="NoIdentificacion" value="" placeholder="optional"> </td>
                        <td> <input type="text" class="Cantidad" value="" placeholder="required" required> </td>
                        <td> 
                            <select class="ClaveUnidad">
                                    <option value='H87'>H87 - Pieza</option>
                                    <option value='EA'>EA - Elemento</option>
                                    <option value='E48'>E48 - Unidad de Servicio</option>
                                    <option value='ACT'>ACT - Actividad</option>
                                    <option value='KGM'>KGM - Kilogramo</option>
                                    <option value='E51'>E51 - Trabajo</option>
                                    <option value='A9'>A9 - Tarifa</option>
                                    <option value='MTR'>MTR - Metro</option>
                                    <option value='AB'>AB - Paquete a granel</option>
                                    <option value='BB'>BB - Caja base</option>
                                    <option value='KT'>KT - Kit</option>
                                    <option value='SET'>SET - Conjunto</option>
                                    <option value='LTR'>LTR - Litro</option>
                                    <option value='XBX'>XBX - Caja</option>
                                    <option value='MON'>MON - Mes </option>
                                    <option value='HUR'>HUR - Hora</option>
                                    <option value='MTK'>MTK - Metro cuadrado</option>
                                    <option value='11'>11 - Equipos</option>
                                    <option value='MGM'>MGM - Miligramo</option>
                                    <option value='XPK'>XPK - Paquete</option>
                                    <option value='XKI'>XKI - Kit (Conjunto de piezas)</option>
                                    <option value='AS'>AS - Variedad</option>
                                    <option value='GRM'>GRM - Gramo</option>
                                    <option value='PR'>PR - Par</option>
                                    <option value='DPC'>DPC - Docenas de piezas</option>
                                    <option value='xun'>xun - Unidad</option>
                                    <option value='DAY'>DAY - Día</option>
                                    <option value='XLT'>XLT - Lote</option>
                                    <option value='10'>10 - Grupos</option>
                                    <option value='MLT'>MLT - Mililitro</option>
                                    <option value='E54'>E54 - Viaje</option>
                                    <option value='ANN'>ANN - Año</option>
                            </select>
                        </td>
                        <td> <input type="text" class="Unidad" value="" placeholder="optional"> </td>
                        <td> <input type="text" class="Descripcion" value="" placeholder="required" required> </td>
                        <td> <input type="text" class="ValorUnitario" value="" placeholder="required" required> </td>
                        <td> <input type="text" class="Importe" value="" placeholder="required" required> </td>
                        <td> <input type="text" class="Descuento" value="" placeholder="optional"> </td>
                        <td>
                            <select class="Traslados">
                                <option value="">Selecciona el Impuesto</option>
                                <option value="001">ISR</option>
                                <option value="002" selected>IVA</option>
                                <option value="003">IEPS</option>
                            </select>
                            <input type="text" class="TasaOCuotaTraslados" value='0.16' placeholder="">
                        </td>
                        <td>
                            <select class="Retenciones">
                                <option value="">Selecciona el Impuesto</option>
                                <option value="001">ISR</option>
                                <option value="002">IVA</option>
                                <option value="003">IEPS</option>
                            </select>
                            <input type="text" class="TasaOCuotaRetenciones" value='' placeholder="">
                        </td>
                    </tr>
                </tbody>
            </table>
            <br>
            <input type="text" id="Version" value="3.3" placeholder="Versión de timbrado. Fijo: 3.3" readonly required>
            <input type="text" id="Folio" value="" placeholder="Folio de la factura" required>
            <input type="text" id="Fecha" value="2019-08-22T16:00:00">
            <select id="FormaPago" required>
                    <option value="01">01 - Efectivo</option>
                    <option value="02">02 - Cheque nominativo</option>
                    <option value="03">03 - Transferencia electrónica de fondos</option>
                    <option value="04">04 - Tarjeta de crédito</option>
                    <option value="05">05 - Monedero electrónico</option>
                    <option value="06">06 - Dinero electrónico</option>
                    <option value="08">08 - Vales de despensa</option>
                    <option value="12">12 - Dación de pago</option>
                    <option value="13">13 - Por subrogación</option>
                    <option value="14">14 - Por consignación</option>
                    <option value="15">15 - Condonación</option>
                    <option value="17">17 - Compensación</option>
                    <option value="23">23 - Novación</option>
                    <option value="24">24 - Confusión</option>
                    <option value="25">25 - Remisión de deuda</option>
                    <option value="26">26 - Prescricpión o caducidad</option>
                    <option value="27">27 - A satisfacción del acreedor</option>
                    <option value="28">28 - Tarjeta de débito</option>
                    <option value="29">29 - Tarjeta de serviccios</option>
                    <option value="99">99 - Por definir</option>
            </select>
            <input type="text" id="CondicionesDePago" value="" placeholder="optional">
            <input type="text" id="SubTotal" value="0.0" placeholder="Subtotal de la Factura" required>
            <input type="text" id="Total" value="0.0" placeholder="Total de la Factura" required>
            <select id="Moneda" required>
                    <option value="AED">AED - Dirham de EAU</option>
                    <option value="AFN">AFN - Afghani</option>
                    <option value="ALL">ALL - Lek</option>
                    <option value="AMD">AMD - Dram armenio</option>
                    <option value="ANG">ANG - Florín antillano neerlandés</option>
                    <option value="AOA">AOA - Kwanza</option>
                    <option value="ARS">ARS - Peso Argentino</option>
                    <option value="AUD">AUD - Dólar Australiano</option>
                    <option value="AWG">AWG - Aruba Florin</option>
                    <option value="AZN">AZN - Azerbaijanian Manat</option>
                    <option value="BAM">BAM - Convertibles marca</option>
                    <option value="BBD">BBD - Dólar de Barbados</option>
                    <option value="BDT">BDT - Taka</option>
                    <option value="BGN">BGN - Lev búlgaro</option>
                    <option value="BHD">BHD - Dinar de Bahrein</option>
                    <option value="BIF">BIF - Burundi Franc</option>
                    <option value="BMD">BMD - Dólar de Bermudas</option>
                    <option value="BND">BND - Dólar de Brunei</option>
                    <option value="BOB">BOB - Boliviano</option>
                    <option value="BOV">BOV - Mvdol</option>
                    <option value="BRL">BRL - Real brasileño</option>
                    <option value="BSD">BSD - Dólar de las Bahamas</option>
                    <option value="BTN">BTN - Ngultrum</option>
                    <option value="BWP">BWP - Pula</option>
                    <option value="BYR">BYR - Rublo bielorruso</option>
                    <option value="BZD">BZD - Dólar de Belice</option>
                    <option value="CAD">CAD - Dolar Canadiense</option>
                    <option value="CDF">CDF - Franco congoleño</option>
                    <option value="CHE">CHE - WIR Euro</option>
                    <option value="CHF">CHF - Franco Suizo</option>
                    <option value="CHW">CHW - Franc WIR</option>
                    <option value="CLF">CLF - Unidad de Fomento</option>
                    <option value="CLP">CLP - Peso chileno</option>
                    <option value="CNY">CNY - Yuan Renminbi</option>
                    <option value="COP">COP - Peso Colombiano</option>
                    <option value="COU">COU - Unidad de Valor real</option>
                    <option value="CRC">CRC - Colón costarricense</option>
                    <option value="CUC">CUC - Peso Convertible</option>
                    <option value="CUP">CUP - Peso Cubano</option>
                    <option value="CVE">CVE - Cabo Verde Escudo</option>
                    <option value="CZK">CZK - Corona checa</option>
                    <option value="DJF">DJF - Franco de Djibouti</option>
                    <option value="DKK">DKK - Corona danesa</option>
                    <option value="DOP">DOP - Peso Dominicano</option>
                    <option value="DZD">DZD - Dinar argelino</option>
                    <option value="EGP">EGP - Libra egipcia</option>
                    <option value="ERN">ERN - Nakfa</option>
                    <option value="ETB">ETB - Birr etíope</option>
                    <option value="EUR">EUR - Euro</option>
                    <option value="FJD">FJD - Dólar de Fiji</option>
                    <option value="FKP">FKP - Libra malvinense</option>
                    <option value="GBP">GBP - Libra Esterlina</option>
                    <option value="GEL">GEL - Lari</option>
                    <option value="GHS">GHS - Cedi de Ghana</option>
                    <option value="GIP">GIP - Libra de Gibraltar</option>
                    <option value="GMD">GMD - Dalasi</option>
                    <option value="GNF">GNF - Franco guineano</option>
                    <option value="GTQ">GTQ - Quetzal</option>
                    <option value="GYD">GYD - Dólar guyanés</option>
                    <option value="HKD">HKD - Dolar De Hong Kong</option>
                    <option value="HNL">HNL - Lempira</option>
                    <option value="HRK">HRK - Kuna</option>
                    <option value="HTG">HTG - Gourde</option>
                    <option value="HUF">HUF - Florín</option>
                    <option value="IDR">IDR - Rupia</option>
                    <option value="ILS">ILS - Nuevo Shekel Israelí</option>
                    <option value="INR">INR - Rupia india</option>
                    <option value="IQD">IQD - Dinar iraquí</option>
                    <option value="IRR">IRR - Rial iraní</option>
                    <option value="ISK">ISK - Corona islandesa</option>
                    <option value="JMD">JMD - Dólar Jamaiquino</option>
                    <option value="JOD">JOD - Dinar jordano</option>
                    <option value="JPY">JPY - Yen</option>
                    <option value="KES">KES - Chelín keniano</option>
                    <option value="KGS">KGS - Som</option>
                    <option value="KHR">KHR - Riel</option>
                    <option value="KMF">KMF - Franco Comoro</option>
                    <option value="KPW">KPW - Corea del Norte ganó</option>
                    <option value="KRW">KRW - Won</option>
                    <option value="KWD">KWD - Dinar kuwaití</option>
                    <option value="KYD">KYD - Dólar de las Islas Caimán</option>
                    <option value="KZT">KZT - Tenge</option>
                    <option value="LAK">LAK - Kip</option>
                    <option value="LBP">LBP - Libra libanesa</option>
                    <option value="LKR">LKR - Rupia de Sri Lanka</option>
                    <option value="LRD">LRD - Dólar liberiano</option>
                    <option value="LSL">LSL - Loti</option>
                    <option value="LYD">LYD - Dinar libio</option>
                    <option value="MAD">MAD - Dirham marroquí</option>
                    <option value="MDL">MDL - Leu moldavo</option>
                    <option value="MGA">MGA - Ariary malgache</option>
                    <option value="MKD">MKD - Denar</option>
                    <option value="MMK">MMK - Kyat</option>
                    <option value="MNT">MNT - Tugrik</option>
                    <option value="MOP">MOP - Pataca</option>
                    <option value="MRO">MRO - Ouguiya</option>
                    <option value="MUR">MUR - Rupia de Mauricio</option>
                    <option value="MVR">MVR - Rupia</option>
                    <option value="MWK">MWK - Kwacha</option>
                    <option selected="selected" value="MXN">MXN - Peso Mexicano</option>
                    <option value="MXV">MXV - México Unidad de Inversión (UDI)</option>
                    <option value="MYR">MYR - Ringgit malayo</option>
                    <option value="MZN">MZN - Mozambique Metical</option>
                    <option value="NAD">NAD - Dólar de Namibia</option>
                    <option value="NGN">NGN - Naira</option>
                    <option value="NIO">NIO - Córdoba Oro</option>
                    <option value="NOK">NOK - Corona noruega</option>
                    <option value="NPR">NPR - Rupia nepalí</option>
                    <option value="NZD">NZD - Dólar de Nueva Zelanda</option>
                    <option value="OMR">OMR - Rial omaní</option>
                    <option value="PAB">PAB - Balboa</option>
                    <option value="PEN">PEN - Nuevo Sol</option>
                    <option value="PGK">PGK - Kina</option>
                    <option value="PHP">PHP - Peso filipino</option>
                    <option value="PKR">PKR - Rupia de Pakistán</option>
                    <option value="PLN">PLN - Zloty</option>
                    <option value="PYG">PYG - Guaraní</option>
                    <option value="QAR">QAR - Qatar Rial</option>
                    <option value="RON">RON - Leu rumano</option>
                    <option value="RSD">RSD - Dinar serbio</option>
                    <option value="RUB">RUB - Rublo ruso</option>
                    <option value="RWF">RWF - Franco ruandés</option>
                    <option value="SAR">SAR - Riyal saudí</option>
                    <option value="SBD">SBD - Dólar de las Islas Salomón</option>
                    <option value="SCR">SCR - Rupia de Seychelles</option>
                    <option value="SDG">SDG - Libra sudanesa</option>
                    <option value="SEK">SEK - Corona sueca</option>
                    <option value="SGD">SGD - Dolar De Singapur</option>
                    <option value="SHP">SHP - Libra de Santa Helena</option>
                    <option value="SLL">SLL - Leona</option>
                    <option value="SOS">SOS - Chelín somalí</option>
                    <option value="SRD">SRD - Dólar de Suriname</option>
                    <option value="SSP">SSP - Libra sudanesa Sur</option>
                    <option value="STD">STD - Dobra</option>
                    <option value="SVC">SVC - Colon El Salvador</option>
                    <option value="SYP">SYP - Libra Siria</option>
                    <option value="SZL">SZL - Lilangeni</option>
                    <option value="THB">THB - Baht</option>
                    <option value="TJS">TJS - Somoni</option>
                    <option value="TMT">TMT - Turkmenistán nuevo manat</option>
                    <option value="TND">TND - Dinar tunecino</option>
                    <option value="TOP">TOP - Pa'anga</option>
                    <option value="TRY">TRY - Lira turca</option>
                    <option value="TTD">TTD - Dólar de Trinidad y Tobago</option>
                    <option value="TWD">TWD - Nuevo dólar de Taiwán</option>
                    <option value="TZS">TZS - Shilling tanzano</option>
                    <option value="UAH">UAH - Hryvnia</option>
                    <option value="UGX">UGX - Shilling de Uganda</option>
                    <option value="USD">USD - Dolar americano</option>
                    <option value="USN">USN - Dólar estadounidense (día siguiente)</option>
                    <option value="UYI">UYI - Peso Uruguay en Unidades Indexadas (URUIURUI)</option>
                    <option value="UYU">UYU - Peso Uruguayo</option>
                    <option value="UZS">UZS - Uzbekistán Sum</option>
                    <option value="VEF">VEF - Bolívar</option>
                    <option value="VND">VND - Dong</option>
                    <option value="VUV">VUV - Vatu</option>
                    <option value="WST">WST - Tala</option>
                    <option value="XAF">XAF - Franco CFA BEAC</option>
                    <option value="XAG">XAG - Plata</option>
                    <option value="XAU">XAU - Oro</option>
                    <option value="XBA">XBA - Unidad de Mercados de Bonos Unidad Europea Composite (EURCO)</option>
                    <option value="XBB">XBB - Unidad Monetaria de Bonos de Mercados Unidad Europea (UEM-6)</option>
                    <option value="XBC">XBC - Mercados de Bonos Unidad Europea unidad de cuenta a 9 (UCE-9)</option>
                    <option value="XBD">XBD - Mercados de Bonos Unidad Europea unidad de cuenta a 17 (UCE-17)</option>
                    <option value="XCD">XCD - Dólar del Caribe Oriental</option>
                    <option value="XDR">XDR - DEG (Derechos Especiales de Giro)</option>
                    <option value="XOF">XOF - Franco CFA BCEAO</option>
                    <option value="XPD">XPD - Paladio</option>
                    <option value="XPF">XPF - Franco CFP</option>
                    <option value="XPT">XPT - Platino</option>
                    <option value="XSU">XSU - Sucre</option>
                    <option value="XTS">XTS - Códigos reservados específicamente para propósitos de prueba</option>
                    <option value="XUA">XUA - Unidad ADB de Cuenta</option>
                    <option value="XXX">XXX - Los códigos asignados para las transacciones en que intervenga ninguna moneda</option>
                    <option value="YER">YER - Rial yemení</option>
                    <option value="ZAR">ZAR - Rand</option>
                    <option value="ZMW">ZMW - Kwacha zambiano</option>
                    <option value="ZWL">ZWL - Zimbabwe Dólar</option>
            </select>
            <input type="text" id="TipoDeComprobante" value="I" readonly required>
            <select id="MetodoPago" required>
                    <option value="PUE">Pago en una sola exhibición</option>
                    <option value="PPD">Pago en parcialidades o diferido</option>
            </select>
            <input type="text" id="LugarExpedicion" value="64610" required>
            <br>
            <br>
            <input type="text" id="serie" placeholder="serie" value="" required><br>
            <input type="text" id="ticket" placeholder="ticket" value="" required><br>
            <input type="text" id="importe" placeholder="importe" value="" required><br>
            <button id="TimbrarCFDI33">Timbrar CFDI</button>
        </div>
    </div>
    <div id="descarga">
        <div id="descargar_pdf">
            Descargar PDF
            <img src="img/fiscus_cfdi_pdf.png"></div>
        <div id="descargar_xml">
            Descargar XML
            <img src="img/fiscus_cfdi_xml.png"></div>
    </div>

    <script type="text/javascript" src="js/consumo_api.js"></script>
    <script type="text/javascript" src="js/guardar_ticket.js"></script>
    <script type="text/javascript">
        (function () {
            var consumo_api=new ConsumirApi();
            consumo_api.setUsuario("TU_USUARIO_VA_AQUÍ");
            consumo_api.setPassword("TU_PASSWORD_VA_AQUÍ");
            
            var guardarTicket=new GuardarTicket();
            guardarTicket.setConsumirApi(consumo_api);

        })();
    </script>
</body>
</html>
